@using Microsoft.AspNet.Identity
@using UI.Enums
@model UI.Models.MovieViewModel

<script>
	var deleteUrl = '@Url.Action(MVC.Movie.Delete())';
</script>

<h2>
	Details
</h2>

@Html.Partial(MVC.Shared.Views.Items.Details._StatusInfo, Model.StatusInfo)

@Html.Partial(MVC.Shared.Views.Items.Details._ItemInfo, Model.MovieInfo)

<div class="row" style="padding-top: 1em;">
	<div class="col-md-6">
		<div data-toggle="collapse" data-parent="#accordion" href="#media-info">
			<div class="row panel panel-primary panel-collapse">
				<div class="panel-heading">
					<h4>
						Media Information
						<span class="fa fa-chevron-circle-down"></span>
					</h4>
				</div>
			</div>
		</div>
		<div id="media-info" class="collapse in">
			<div class="panel-body">
				<div class="col-xs-6">
					@Html.LabelFor(m => m.MediaInfo.Type):
					@Model.MediaInfo.Type.GetDisplayName()
				</div>

				<div class="col-xs-6">
					@Html.LabelFor(m => m.MediaInfo.Rating):
					@Model.MediaInfo.Rating.GetDisplayName()
				</div>

				@Html.Partial(MVC.Shared.Views.Items.Details._MediaInfo, Model.MediaInfo)
			</div>
		</div>
	</div>

	@Html.Partial(MVC.Shared.Views.Items.Details._PurchaseInfo, Model.PurchaseInfo)
</div>

<div>
	@if (User.Identity.IsAuthenticated && Model.MovieInfo.UserID == User.Identity.GetUserId())
	{
		@Html.ActionLink("Edit", MVC.Movie.Edit(Model.MovieInfo.ID), new { id = Model.MovieInfo.ID })
		<span> | </span>
		@Html.ActionLink("Delete", MVC.Movie.Delete(Model.MovieInfo.ID), new { @class = "deleteBtn", @data_id = Model.MovieInfo.ID })
		<span> | </span>
	}
	@Html.ActionLink("Back to List", MVC.Movie.Index())
</div>